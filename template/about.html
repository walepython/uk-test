{% extends "base.html" %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'about.css' %}">
<link rel="stylesheet" href="{% static 'chapter1.css' %}">

<div class="about-wrapper">

    <!-- LEFT TEXT -->
    <div class="about-left">
        <h1>About Us</h1>

        <p>
            Lifeintheuktestweb has been created to help you <strong>pass</strong> the Life in the UK Test.
            We have the experience of having undertaken and <strong>successfully</strong> passed the UK
            citizenship test ourselves. Here we have gathered numerous questions that cover the contents
            of the official ‘Life in the United Kingdom: A guide for new residents’ 3rd edition Handbook,
            valid for the 2024 Life in the UK Test and that will get you ready for the official test.
        </p>

        <p>
            We strive to keep the information presented here free and as up-to-date as possible to get you
            prepared for the official test with <strong>confidence</strong>. We thought it was important
            to offer the option to practice for the test by chapter, so you can assess the knowledge you
            have gained at the same time as you read the book. Also, we created tests that simulate the real
            test with questions that cover the entire handbook, the same timing as the exam and with the option
            to mark the questions you are unsure of to review or respond them at the end.
        </p>

        <p>
            Many of the questions here have been asked in the <strong>official test</strong>, although the
            incorrect answers may vary in some cases. We try to collect questions that have been recently
            asked in the official citizenship test and we always appreciate candidate’s input.
            So, if you are going to take the exam soon or you have taken it recently please email us and
            <strong>share it</strong> by <strong>contacting us</strong> so future candidates get a better
            experience.
        </p>


          <!-- BANNER IMAGE BELOW -->
        <div class="banner-section">
            <img src="{% static 'images/keep-calm-pass-life-uk-test.png' %}" alt="Keep Calm Banner">
        </div>
    </div>

    <!-- RIGHT SUPPORT BOX -->
    <div class="sidebar-column1">
        <!-- Sidebar Column -->
        <aside class="sidebar-column">
            <!-- Support Card -->
            <div class="support-card">
                <div class="support-header">
                    <h3>Support this project</h3>
                    <div class="heart-icon">♥</div>
                </div>
                <div class="support-body">
                    <p>
                        Lifeintheuktestweb has been created as a free source to help migrants 
                        prepare for the British Citizenship test. If you like this project 
                        and would like to help us maintain it please donate.
                    </p>
                    
                    <div class="thank-you">
                        <strong>Thanks and good luck!</strong>
                    </div>
                    
                    <!-- Donate Section -->
                    <div class="donate-section">
                        <h4>Donate</h4>
                        <div class="donate-options">
                            <button class="donate-option">£5</button>
                            <button class="donate-option">£10</button>
                            <button class="donate-option">£20</button>
                            <button class="donate-option">£50</button>
                            <button class="donate-button custom-amount">Donate Now</button>
                        </div> 
                    </div>
                </div>
            </div>
        </aside>
        
     </div>

</div>

<!-- Modal for Custom Donation Amount -->
<div class="modal fade" id="donateModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Make a Donation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="customAmount">Enter Amount (£)</label>
                    <input type="number" class="form-control" id="customAmount" min="1" step="0.01" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label for="donorName">Your Name (Optional)</label>
                    <input type="text" class="form-control" id="donorName" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label for="donorMessage">Message (Optional)</label>
                    <textarea class="form-control" id="donorMessage" rows="3" placeholder="Thank you for this amazing resource!"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="processDonation">Proceed to Payment</button>
            </div>
        </div>
    </div>
</div>
    
    {% endblock %}
    {% block extra_js %}
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    // Donation functionality
    document.querySelectorAll('.donate-option:not(.custom-amount)').forEach(button => {
        button.addEventListener('click', function() {
            const amount = this.textContent.replace('£', '');
            alert(`Thank you for choosing to donate £${amount}! This will help us maintain and improve this free resource.`);
        });
    });
    
    document.querySelector('.custom-amount').addEventListener('click', function() {
        const modal = new bootstrap.Modal(document.getElementById('donateModal'));
        modal.show();
    });
    
    document.getElementById('processDonation').addEventListener('click', function() {
        const amount = document.getElementById('customAmount').value;
        if (!amount || parseFloat(amount) <= 0) {
            alert('Please enter a valid amount.');
            return;
        }
        alert(`Thank you for your generous donation of £${amount}! We truly appreciate your support.`);
        bootstrap.Modal.getInstance(document.getElementById('donateModal')).hide();
    });
    
    // Mark chapter as complete
    const markCompleteBtn = document.getElementById('markCompleteBtn');
    const completionStatus = document.getElementById('completionStatus');
    
    markCompleteBtn.addEventListener('click', function() {
        const checkboxes = document.querySelectorAll('.checkpoint input[type="checkbox"]');
        const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
        
        if (allChecked) {
            completionStatus.textContent = 'Completed!';
            completionStatus.className = 'completion-status completed';
            markCompleteBtn.textContent = '✓ Chapter Completed';
            markCompleteBtn.className = 'btn btn-success';
            alert('Congratulations! You have completed Chapter 1.');
        } else {
            alert('Please check all the understanding checkpoints before marking as complete.');
        }
    });
    
    // Update progress when checkboxes are checked
    document.querySelectorAll('.checkpoint input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const checkboxes = document.querySelectorAll('.checkpoint input[type="checkbox"]');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            const progress = Math.round((checkedCount / total) * 100);
            
            // Update progress in header
            const progressElement = document.querySelector('.chapter-meta .progress strong');
            if (progressElement) {
                progressElement.textContent = `${progress}%`;
            }
        });
    });
    
    // Quiz button
    document.querySelector('.start-quiz-btn').addEventListener('click', function(e) {
        e.preventDefault();
        alert('Starting Chapter 1 quiz. Good luck!');
        // In production, this would start the quiz
    });
    });
</script>

{% endblock %}
