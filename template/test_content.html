
{% extends "base.html" %}
{% load static %}


{% block content %}
<link rel="stylesheet" href="{% static 'chapter1.css' %}">
<style>

.container1{
    display:flex;
    gap:30px;
    margin:40px;
    align-items: flex-start;
}
.location{
    width:100%;
    flex:1;
}
.location-box {
    display: flex;
    border: 3px solid #000;
    padding: 15px;
    margin-bottom: 30px;
    width: 60vw;
}

.location-box iframe {
    width: 300px;
    height: 220px;
    border: 0;
}

.location-details {
    margin-left: 20px;
    line-height:30px;
}

.location-details h3 {
    margin-top: 0;
    font-size: 18px;
    font-weight: bold;
}

.location-icons img {
    width: 28px;
    margin-right: 8px;
}
.faq-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .faq-header h1 {
        font-size: 30px;
        color: #333;
        margin-bottom: 10px;
        font-weight: bold;
    }

    .faq-header p {
        font-size: 36px;
        font-weight:700;
        color:#1e73ff;
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.6;
    }


@media (max-width: 768px) {
    .container1 {
        flex-direction: column;
        gap: 15px;
        margin:0;
    }

    .location-box {
        flex-direction: column;
        width: 90%;
        padding: 10px;
        gap:10px;
        margin:30px 30px;
    }

    .location-box iframe {
        width: 50%;
        height: 200px;
        margin:auto;
    }

    .location-details {
        margin-left: 0;
        margin-top: 10px;
    }

    .location-details h3 {
        font-size: 16px;
    }

    .location-icons img {
        width: 26px;
        margin-right: 6px;
    }
}

</style>
<div class="content">
    <div class="faq-header">
        <h1>Test Centers</h1>
        <p>Test Centres in England</p>
    </div>
    <div class="container1">
        <div class="location">
            {% for loc in locations %}
            <div class="location-box">
                <iframe src="https://www.google.com/maps?q={{ loc.lat }},{{ loc.lng }}&hl=en&z=14&output=embed"></iframe>

                <div class="location-details">
                    <h3>{{ loc.name }}</h3>
                    <p>{{ loc.address }}</p>

                    <div class="icons">
                        {% if loc.has_toilet %}
                            {{ toilet_icon|safe }}
                        {% endif %}

                        {% if loc.has_wheelchair %}
                            {{ wheelchair_icon|safe }}
                        {% endif %}

                        {% if loc.has_dog %}
                            {{ dog_icon|safe }}
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

            <div class="sidebar-column1">
                <!-- Sidebar Column -->
                <aside class="sidebar-column">
                    <!-- Support Card -->
                    <div class="support-card">
                        <div class="support-header">
                            <h3>Support this project</h3>
                            <div class="heart-icon">‚ô•</div>
                        </div>
                        <div class="support-body">
                            <p>
                                Lifeintheuktestweb has been created as a free source to help migrants 
                                prepare for the British Citizenship test. If you like this project 
                                and would like to help us maintain it please donate.
                            </p>
                            
                            <div class="thank-you">
                                <strong>Thanks and good luck!</strong>
                            </div>
                            
                            <!-- Donate Section -->
                            <div class="donate-section">
                                <h4>Donate</h4>
                                <div class="donate-options">
                                    <button class="donate-option">¬£5</button>
                                    <button class="donate-option">¬£10</button>
                                    <button class="donate-option">¬£20</button>
                                    <button class="donate-option">¬£50</button>
                                    <button class="donate-button custom-amount">Donate Now</button>
                                </div> 
                            </div>
                        </div>
                    </div>
                </aside>
                <!-- Test Your Knowledge Card -->
                <div class="test-card">
                    <h3>TEST YOUR KNOWLEDGE</h3>
                    <p>Take a quiz based on Chapter 1 content</p>
                    <div class="quiz-stats">
                        <div class="stat">
                            <span class="stat-number">10</span>
                            <span class="stat-label">Questions</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">75%</span>
                            <span class="stat-label">Pass Mark</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">15</span>
                            <span class="stat-label">Minutes</span>
                        </div>
                    </div>
                    <a href="#" class="start-quiz-btn">Start Chapter 1 Quiz</a>
                </div>
                
                <!-- Navigation Card -->
                <div class="navigation-card">
                    <h4>Chapter Navigation</h4>
                    <div class="chapter-list">
                        <a href="#" class="chapter-link active">
                            <span class="chapter-number">1</span>
                            <span class="chapter-title">Values and Principles</span>
                        </a>
                        <a href="#" class="chapter-link">
                            <span class="chapter-number">2</span>
                            <span class="chapter-title">What is the UK?</span>
                        </a>
                        <a href="#" class="chapter-link">
                            <span class="chapter-number">3</span>
                            <span class="chapter-title">History</span>
                        </a>
                        <a href="#" class="chapter-link">
                            <span class="chapter-number">4</span>
                            <span class="chapter-title">Modern Society</span>
                        </a>
                        <a href="#" class="chapter-link">
                            <span class="chapter-number">5</span>
                            <span class="chapter-title">Government & Law</span>
                        </a>
                    </div>
                </div>
                
                <!-- Download Card -->
                <div class="download-card">
                    <h4>Download Resources</h4>
                    <div class="download-links">
                        <a href="#" class="download-link">
                            üìÑ Chapter 1 Summary (PDF)
                        </a>
                        <a href="#" class="download-link">
                            üéß Audio Version
                        </a>
                        <a href="#" class="download-link">
                            üìã Key Points Checklist
                        </a>
                        <a href="#" class="download-link">
                            ‚ùì Practice Questions
                        </a>
                    </div>
                </div>
            
                <!-- Quick Facts Card -->
                <div class="facts-card">
                    <h4>Quick Facts</h4>
                    <div class="fact-item">
                        <span class="fact-icon">üá¨üáß</span>
                        <div class="fact-content">
                            <strong>UK Population:</strong>
                            <span>~67 million</span>
                        </div>
                    </div>
                    <div class="fact-item">
                        <span class="fact-icon">üèõÔ∏è</span>
                        <div class="fact-content">
                            <strong>Parliaments:</strong>
                            <span>4 separate legislatures</span>
                        </div>
                    </div>
                    <div class="fact-item">
                        <span class="fact-icon">üèùÔ∏è</span>
                        <div class="fact-content">
                            <strong>Overseas Territories:</strong>
                            <span>14 territories worldwide</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
</div>
<!-- Modal for Custom Donation Amount -->
<div class="modal fade" id="donateModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Make a Donation</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="customAmount">Enter Amount (¬£)</label>
                    <input type="number" class="form-control" id="customAmount" min="1" step="0.01" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label for="donorName">Your Name (Optional)</label>
                    <input type="text" class="form-control" id="donorName" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label for="donorMessage">Message (Optional)</label>
                    <textarea class="form-control" id="donorMessage" rows="3" placeholder="Thank you for this amazing resource!"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="processDonation">Proceed to Payment</button>
            </div>
        </div>
    </div>
</div>
    <style>
    
    
    .sidebar-column1 {
    position: sticky;
    top: 10px;      /* distance from top */
   
    display: flex;
    flex-direction: column;
    gap: 25px;
   
    }   
    
    h2, h3, h4 {
    color: #0b0c0c;
    margin-top: 25px;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #1d70b8;
    }
    
    h2 {
    font-size: 24px;
    }
    
    h3 {
    font-size: 20px;
    border-bottom-width: 1px;
    }
    
    h4 {
    font-size: 18px;
    border-bottom: 1px dashed #1d70b8;
    }
    
    /* Facts Card */
    .facts-card {
    background: white;
    border-radius: 10px;
    padding: 25px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin-top: 25px;
    }
    
    .facts-card h4 {
    color: #2d3748;
    margin-bottom: 20px;
    text-align: center;
    }
    
    .fact-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px 0;
    border-bottom: 1px solid #e2e8f0;
    }
    
    .fact-item:last-child {
    border-bottom: none;
    }
    
    .fact-icon {
    font-size: 1.5rem;
    width: 40px;
    text-align: center;
    }
    
    .fact-content {
    flex-grow: 1;
    }
    
    .fact-content strong {
    display: block;
    color: #2d3748;
    font-size: 0.9rem;
    }
    
    .fact-content span {
    color: #4a5568;
    font-size: 0.9rem;
    }
    
    .facts-card {
    border-top: 4px solid #9f7aea;
    }
    .support-card {
    border-top: 4px solid #667eea;
    }
    
    .test-card {
    border-top: 4px solid #48bb78;
    text-align: center;
    }
    
    .navigation-card {
    border-top: 4px solid #e53e3e;
    }
    
    .download-card {
    border-top: 4px solid #ed8936;
    }
    
    </style>
 {% endblock %}
{% block extra_js %}
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    // Donation functionality
    document.querySelectorAll('.donate-option:not(.custom-amount)').forEach(button => {
        button.addEventListener('click', function() {
            const amount = this.textContent.replace('¬£', '');
            alert(`Thank you for choosing to donate ¬£${amount}! This will help us maintain and improve this free resource.`);
        });
    });
    
    document.querySelector('.custom-amount').addEventListener('click', function() {
        const modal = new bootstrap.Modal(document.getElementById('donateModal'));
        modal.show();
    });
    
    document.getElementById('processDonation').addEventListener('click', function() {
        const amount = document.getElementById('customAmount').value;
        if (!amount || parseFloat(amount) <= 0) {
            alert('Please enter a valid amount.');
            return;
        }
        alert(`Thank you for your generous donation of ¬£${amount}! We truly appreciate your support.`);
        bootstrap.Modal.getInstance(document.getElementById('donateModal')).hide();
    });
    
    // Mark chapter as complete
    const markCompleteBtn = document.getElementById('markCompleteBtn');
    const completionStatus = document.getElementById('completionStatus');
    
    markCompleteBtn.addEventListener('click', function() {
        const checkboxes = document.querySelectorAll('.checkpoint input[type="checkbox"]');
        const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
        
        if (allChecked) {
            completionStatus.textContent = 'Completed!';
            completionStatus.className = 'completion-status completed';
            markCompleteBtn.textContent = '‚úì Chapter Completed';
            markCompleteBtn.className = 'btn btn-success';
            alert('Congratulations! You have completed Chapter 1.');
        } else {
            alert('Please check all the understanding checkpoints before marking as complete.');
        }
    });
    
    // Update progress when checkboxes are checked
    document.querySelectorAll('.checkpoint input[type="checkbox"]').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const checkboxes = document.querySelectorAll('.checkpoint input[type="checkbox"]');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            const progress = Math.round((checkedCount / total) * 100);
            
            // Update progress in header
            const progressElement = document.querySelector('.chapter-meta .progress strong');
            if (progressElement) {
                progressElement.textContent = `${progress}%`;
            }
        });
    });
    
    // Quiz button
    document.querySelector('.start-quiz-btn').addEventListener('click', function(e) {
        e.preventDefault();
        alert('Starting Chapter 1 quiz. Good luck!');
        // In production, this would start the quiz
    });
    });
</script>
    
    
 {% endblock %}